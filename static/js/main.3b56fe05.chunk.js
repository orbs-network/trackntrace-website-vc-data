(this.webpackJsonppgdashboard=this.webpackJsonppgdashboard||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(13),o=a.n(i);a(98),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,l,s,u,m,d,p,h,f=a(22),b=a(29),g=a.n(b),y=a(45),v=a(16),w=a(14),O=a(12),E=a(9),j=(a(47),a(6)),D=["Clere","Edbert","Kareem","Topper","Busey","Woody","Ikkela","Jenesia","Deirdre","Bloom","Ellwood","Burget","Carnay","Karlotte","Vins","Obau","Adoree","Jensen","Lemuela","Nahum","Eskill","Deeanne","Hayes","Meridel","Flemming","Eldwin","Om","Weisbrodt","Scheer","Carlen","Armalda","Schindler","Rahman","Tolley","Sherwin","Avelin","Xever","Lanny","Jedidiah","Dorie","Madalena","Langston","Halle","Ileana","Hunley","Juieta","Ngo","Lubet","Marlene","Ruthanne","Stover","Decca","Marrin","Taite","Mae","Wester","Bricker","Prissy","Eadith","Zacharie","Malarkey","Prakash","Eichman","Helbonnas","Truc","Horatia","McConnell","Stanhope","Lathan","Hax","Erick","Denney","Faludi","Cherry","Keefer","Jarib","Ahrens","Olwen","Farris","Bibbie","Mont","Sunil","McNalley","Girovard","Schreibe","Kilgore","Stevana","Gabler","Phillida","Putnam","Biagi","Neau","Katherin","Sedgewake","Eisler","Cyrille","Uri","Tammany","Hagar","Amby"],k=function(e){return Math.abs(e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0))},I=function(){function e(t,a){var n=this;Object(w.a)(this,e),this.raw=t,this.gatewayConfig=a,this.rawLowecase=void 0,this.rawLowecase={},Object.keys(t).forEach((function(e){return n.rawLowecase[e.toLowerCase()]=t[e]}))}return Object(O.a)(e,[{key:"itemId",value:function(){return this.rawLowecase.tagid}},{key:"timestampInSeconds",value:function(){return this.timestampInMilliseconds()/1e3}},{key:"timestampInMilliseconds",value:function(){return 1e3*this.rawLowecase.timestamp}},{key:"timestampAsDate",value:function(){return new Date(this.timestampInMilliseconds())}},{key:"gatewayId",value:function(){return this.rawLowecase.gatewayid}},{key:"eventType",value:function(){return this.rawLowecase.eventtype}},{key:"eventValue",value:function(){return this.rawLowecase.eventvalue}},{key:"gatewayAlias",value:function(){return this.gatewayConfig.getFor(this.rawLowecase.gatewayid).Alias||this.rawLowecase.gatewayid}},{key:"recordId",value:function(){return k(JSON.stringify(this.raw)).toString()}},{key:"isOperatorAvailable",value:function(){return!1}},{key:"operatorFullName",value:function(){var e=k(this.recordId()),t=D[(e+1)%D.length];return"".concat(D[e%D.length]," ").concat(t)}}]),e}(),x=(c=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Object(w.a)(this,e),this.gatewayConfig=t,Object(v.a)(this,"ready",l,this),Object(v.a)(this,"err",s,this),Object(v.a)(this,"records",u,this),this.init(a)}return Object(O.a)(e,[{key:"init",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var a,n,r,i=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Date.now(),e.next=4,this.fetch();case 4:n=Math.max(0,800-(Date.now()-a)),setTimeout((function(){return i.ready=!0}),n),(r=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.fetch();case 3:setTimeout(r,t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i.err=e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}())(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.err=e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(Object(y.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Object({NODE_ENV:"production",PUBLIC_URL:"https://orbs-network.github.io/trackntrace-website-vc-data",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"/trackntrace-website-vc-data"}).REACT_APP_RECORDS_URL||"https://png-collector.herokuapp.com/getAllEvents");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,null!=this.records&&a.length==this.records.length||(this.records=a.filter((function(e){return"[object Object]"!=e.msg})).filter((function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).find((function(e){return"tagid"==e}))})).map((function(e){return new I(e,n.gatewayConfig)})));case 7:case"end":return e.stop()}}),e,this)}))))}]),e}(),l=Object(E.a)(c.prototype,"ready",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=Object(E.a)(c.prototype,"err",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=Object(E.a)(c.prototype,"records",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c),S=a(18),C=(m=function(){function e(t){Object(w.a)(this,e),this.recordsStore=t}return Object(O.a)(e,[{key:"itemPipelineTimeInSeconds",value:function(e){return Date.now()/1e3-S.min(this.itemRecords(e).map((function(e){return e.timestampInSeconds()})))}},{key:"itemRecords",value:function(e){return this.recordsStore.records.filter((function(t){return t.itemId()==e}))}},{key:"itemRecordsSortedByTime",value:function(e){return S.sortBy(this.itemRecords(e),(function(e){return e.timestampInMilliseconds()}))}},{key:"avgRecordsPerItem",get:function(){return S.chain(this.recordsStore.records).groupBy((function(e){return e.itemId()})).values().map((function(e){return e.length})).mean().value()||0}},{key:"avgPiplineTimePerItemInDays",get:function(){return this.avgPiplineTimePerItemInSeconds/60/60/24}},{key:"avgPiplineTimePerItemInSeconds",get:function(){var e=Date.now()/1e3;return S.chain(this.recordsStore.records).groupBy((function(e){return e.itemId()})).mapValues((function(t){return e-S.min(t.map((function(e){return e.timestampInSeconds()})))})).map((function(e){return Math.max(e,0)})).mean().value()||0}},{key:"itemUIDs",get:function(){return S.chain(this.recordsStore.records).map((function(e){return e.itemId()})).uniq().value()}},{key:"latestRecordsPerItem",get:function(){return S.chain(this.recordsStore.records).groupBy((function(e){return e.itemId()})).mapValues((function(e){return S.maxBy(e,(function(e){return e.timestampInSeconds()}))})).values().value()}},{key:"itemCountByGateway",get:function(){return S.chain(this.latestRecordsPerItem).groupBy((function(e){return e.gatewayId()})).mapValues((function(e){return e.length})).value()}},{key:"alerts",get:function(){return this.tooManyScansAlerts}},{key:"alertedItems",get:function(){return S.uniq(this.alerts.map((function(e){return e.itemId})))}},{key:"tooManyScansAlerts",get:function(){var e=this;return this.itemUIDs.map((function(t){return e.itemRecordsSortedByTime(t)})).filter((function(e){return e.length>10})).map((function(e){return{timestamp:e[10].timestampAsDate(),alertType:"Too Many Scans",itemId:e[0].itemId(),count:e.length}}))}}]),e}(),Object(E.a)(m.prototype,"avgRecordsPerItem",[j.f],Object.getOwnPropertyDescriptor(m.prototype,"avgRecordsPerItem"),m.prototype),Object(E.a)(m.prototype,"avgPiplineTimePerItemInDays",[j.f],Object.getOwnPropertyDescriptor(m.prototype,"avgPiplineTimePerItemInDays"),m.prototype),Object(E.a)(m.prototype,"avgPiplineTimePerItemInSeconds",[j.f],Object.getOwnPropertyDescriptor(m.prototype,"avgPiplineTimePerItemInSeconds"),m.prototype),Object(E.a)(m.prototype,"itemUIDs",[j.f],Object.getOwnPropertyDescriptor(m.prototype,"itemUIDs"),m.prototype),Object(E.a)(m.prototype,"latestRecordsPerItem",[j.f],Object.getOwnPropertyDescriptor(m.prototype,"latestRecordsPerItem"),m.prototype),Object(E.a)(m.prototype,"itemCountByGateway",[j.f],Object.getOwnPropertyDescriptor(m.prototype,"itemCountByGateway"),m.prototype),Object(E.a)(m.prototype,"alerts",[j.f],Object.getOwnPropertyDescriptor(m.prototype,"alerts"),m.prototype),Object(E.a)(m.prototype,"alertedItems",[j.f],Object.getOwnPropertyDescriptor(m.prototype,"alertedItems"),m.prototype),Object(E.a)(m.prototype,"tooManyScansAlerts",[j.f],Object.getOwnPropertyDescriptor(m.prototype,"tooManyScansAlerts"),m.prototype),m),P=a(73);function R(e){return T.apply(this,arguments)}function T(){return(T=Object(y.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return e.replace(/\s/g,"").toLowerCase()},n=function(e){return null==e?null:""!=e.trim()?e.trim():null},e.abrupt("return",new Promise((function(e,r){P.parse(t,{download:!0,header:!0,error:function(e){return r(e)},complete:function(t){e(t.data.filter((function(e){return Object.keys(e).filter((function(t){return null!=n(e[t])})).length>0})).map((function(e){return Object.keys(e).forEach((function(t){var n=a(t);""==n?delete e[t]:e[n]=e[t]})),e})).map((function(e){return{ID:n(e.id),Alias:n(e.alias),LocationCategory:n(e.locationcategory),SiteCategory:n(e.sitecategory),BackroomGatewayId:n(e.backroomgatewayid)}})))}})})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=(d=function(){function e(){Object(w.a)(this,e),Object(v.a)(this,"ready",p,this),Object(v.a)(this,"err",h,this),this.records=void 0,this.configById={},this.init()}return Object(O.a)(e,[{key:"init",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,a,n,r,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(Object({NODE_ENV:"production",PUBLIC_URL:"https://orbs-network.github.io/trackntrace-website-vc-data",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"/trackntrace-website-vc-data"}).REACT_APP_CSV_URL||"https://trackntrace-config.s3.amazonaws.com/gw-conf.csv?AWSAccessKeyId=AKIA2SZDVCH33R4YMMVC&Signature=4uE4VaePWxQg3nOR%2Ff%2B5NJzhAUs%3D&Expires=1901521907");case 3:for(this.records=e.sent,this.prevalidateConfig(),t=!0,a=!1,n=void 0,e.prev=8,r=this.records[Symbol.iterator]();!(t=(i=r.next()).done);t=!0)o=i.value,this.configById[o.ID.toLowerCase()]=o;e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),a=!0,n=e.t0;case 16:e.prev=16,e.prev=17,t||null==r.return||r.return();case 19:if(e.prev=19,!a){e.next=22;break}throw n;case 22:return e.finish(19);case 23:return e.finish(16);case 24:this.postvalidateConfig(),this.ready=!0,e.next=31;break;case 28:e.prev=28,e.t1=e.catch(0),this.err=e.t1;case 31:case"end":return e.stop()}}),e,this,[[0,28],[8,12,16,24],[17,,19,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"prevalidateConfig",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.records[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){if(null==n.value.ID)throw new Error("Invalid gateway config: missing gateway ID")}}catch(i){t=!0,a=i}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}}},{key:"postvalidateConfig",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.records[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var i=n.value;if(this.getFor(i.ID)!=i)throw new Error("Multiple gateways with same ID: ".concat(i.ID));if(i.BackroomGatewayId&&null==this.getFor(i.BackroomGatewayId))throw new Error("Invalid backroomGatewayId for gateway ".concat(i.ID))}}catch(o){t=!0,a=o}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}}},{key:"getFor",value:function(e){return this.configById[e.toLowerCase()]||function(e){return{ID:e}}(e)}},{key:"all",value:function(){return S.cloneDeep(this.records)}}]),e}(),p=Object(E.a)(d.prototype,"ready",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=Object(E.a)(d.prototype,"err",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d);var L=a(19),B=a(20),z=a(21),M=a(79),N=a(40),U=a(15),W=a(159),_=a(150),F=a(156),H=a(152),G=a(157),K=a(146),V=a(11);function J(e){var t;return"/trackntrace-website-vc-data"+(t={},Object(V.a)(t,"3c71bf63e190".toLowerCase(),"/mixingcenter.svg"),Object(V.a)(t,"GW98f4ab141D14".toLowerCase(),"/factory.svg"),Object(V.a)(t,"GW984fab141D70".toLowerCase(),"/truck.svg"),Object(V.a)(t,"GW98f4ab141D70".toLowerCase(),"/truck.svg"),Object(V.a)(t,"GW98f4ab141D38".toLowerCase(),"/distributioncenter.svg"),Object(V.a)(t,"GW98f4ab141DF4".toLowerCase(),"/inventory.svg"),Object(V.a)(t,"GW98f4ab141D0C".toLowerCase(),"/retailstorage.svg"),t)[e.toLowerCase()]||!1}var Y,q,X,Z,Q,$,ee,te,ae,ne,re,ie,oe,ce,le,se,ue,me,de,pe,he,fe=a(161),be=a(153),ge=a(151),ye=function(e){return(e<10?"0":"")+e.toString()},ve=Object(f.b)("statistics")(Y=Object(f.c)((q=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(L.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r))),Object(v.a)(a,"selectedItemUID",X,Object(U.a)(a)),Object(v.a)(a,"ready",Z,Object(U.a)(a)),Object(v.a)(a,"pageSize",Q,Object(U.a)(a)),Object(v.a)(a,"currentPage",$,Object(U.a)(a)),a.currentTimeoutHandle=void 0,Object(v.a)(a,"retrievingDetails",ee,Object(U.a)(a)),Object(v.a)(a,"operatorDetails",te,Object(U.a)(a)),Object(v.a)(a,"scanRecordForOperatorRetreival",ae,Object(U.a)(a)),a}return Object(z.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadData(),Object(j.n)((function(){return e.selected}),(function(){return e.loadData()}))}},{key:"loadData",value:function(){var e=this;this.selected&&(this.ready=!1,this.currentTimeoutHandle&&clearTimeout(this.currentTimeoutHandle),this.currentTimeoutHandle=setTimeout((function(){e.ready=!0,e.currentTimeoutHandle=null}),1e3))}},{key:"componentWillUnmount",value:function(){this.currentTimeoutHandle&&clearTimeout(this.currentTimeoutHandle)}},{key:"render",value:function(){var e=this,t=this.props.statistics.itemRecords(this.selected);return r.a.createElement("div",{style:{margin:"30px"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{display:"inline-block",fontWeight:"bold",fontSize:21,padding:"32px 15px 32px 0"}},"Search an item:"),this.props.statistics.itemUIDs.length>0&&r.a.createElement(G.a,{options:this.props.statistics.itemUIDs,getOptionLabel:function(e){return e},style:{width:300},filterOptions:Object(K.a)({matchFrom:"start"}),onChange:function(t,a){e.selectedItemUID=a,e.loadData()},value:null==this.selectedItemUID?this.selected:this.selectedItemUID,renderInput:function(e){return r.a.createElement(W.a,Object.assign({},e,{label:"Item UID",variant:"outlined"}))}}),!this.ready&&r.a.createElement(_.a,{style:{marginLeft:20}})),null!=this.selected&&this.ready&&r.a.createElement("div",{style:{borderRadius:4,border:"solid 1px #ebedf8",backgroundColor:"#f8f8f8",padding:37,display:"flex",flexDirection:"row",marginRight:30,overflow:"auto"}},r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:19,color:"#1a173b",letterSpacing:.13,paddingBottom:12}},"Item UID"),r.a.createElement("div",{style:{color:"#484848",fontSize:15}},this.selected)),r.a.createElement("div",null,r.a.createElement("table",{className:"item-table",style:{paddingLeft:40}},r.a.createElement("tr",{style:{fontSize:15,letterSpacing:.1,color:"#5e6e7b"}},r.a.createElement("td",null,"Brand"),r.a.createElement("td",null,"Description"),r.a.createElement("td",null,"Catalog No."),r.a.createElement("td",null,"Time in pipeline"),r.a.createElement("td",null,"Status")),r.a.createElement("tr",{style:{fontSize:16,color:"#060606"}},r.a.createElement("td",null,"Gillette"),r.a.createElement("td",null,"Razor Package 135Xg"),r.a.createElement("td",null,"1225434DLX"),r.a.createElement("td",null,Math.floor(this.props.statistics.itemPipelineTimeInSeconds(this.selected)/60/60/24)," days"),r.a.createElement("td",{style:{fontWeight:"bold",fontSize:16,color:"#769806"}},"OK"))))),this.selected&&this.ready&&r.a.createElement("div",null,r.a.createElement("div",{style:{display:"inline-block",fontWeight:"bold",fontSize:21,padding:"32px 15px 32px 0",borderBottom:"solid 0.5px #ebedf8",width:"100%"}},"Item history"),r.a.createElement("div",null,r.a.createElement("div",{className:"item-history-table"},r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"Gateway"),r.a.createElement("td",null,"Gateway ID"),r.a.createElement("td",null,"Event Type"),r.a.createElement("td",null,"Event Value"),r.a.createElement("td",null,"Date"),r.a.createElement("td",null,"Time")),S.sortBy(t,(function(e){return-e.timestampInSeconds()})).slice(this.pageSize*this.currentPage,this.pageSize*(this.currentPage+1)).map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",{className:"record-id-cell"},"Record ",e.recordId()),r.a.createElement("td",{style:{textAlign:"left"}},r.a.createElement("div",{style:{verticalAlign:"middle",width:30,height:30,backgroundImage:"url(".concat(J(e.gatewayId()),")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",whiteSpace:"nowrap",backgroundPosition:"center",display:"inline-block"}}),"\xa0\xa0\xa0",e.gatewayAlias()),r.a.createElement("td",null," ",e.gatewayId()," "),r.a.createElement("td",null," ",e.eventType()," "),r.a.createElement("td",null," ",e.eventValue()," "),r.a.createElement("td",null,"".concat(ye(e.timestampAsDate().getDate())," ").concat(e.timestampAsDate().toLocaleString("default",{month:"short"}),", ").concat(e.timestampAsDate().getFullYear())),r.a.createElement("td",null,"".concat(ye(e.timestampAsDate().getHours()),":").concat(ye(e.timestampAsDate().getMinutes()))))}))),r.a.createElement(F.a,{rowsPerPageOptions:[5,10],component:"div",count:t.length,rowsPerPage:this.pageSize,page:this.currentPage,onChangePage:function(t,a){return e.currentPage=a},onChangeRowsPerPage:function(t){e.pageSize=parseInt(t.target.value)}}),this.isOperatorDialogOpen()&&r.a.createElement(fe.a,{onClose:function(){return e.closeOperatorDialog()},"aria-labelledby":"Scan Operator Details",open:this.isOperatorDialogOpen()},r.a.createElement("div",{style:{fontSize:20,fontWeight:"bold",margin:20}},"Scan Operator Details"),r.a.createElement(ge.a,{style:{textAlign:"left"}},"You are attempting to retrieve operator details of scan ",this.scanRecordForOperatorRetreival.recordId(),".",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Note - this action will be logged!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"center"}},this.retrievingDetails?r.a.createElement(_.a,null):this.operatorDetails?r.a.createElement("span",null,"Full name: ",r.a.createElement("b",null,this.operatorDetails)):r.a.createElement(H.a,{variant:"contained",color:"primary",onClick:function(){return e.retreiveOperatorDetails()}},"RETRIEVE OEPRATOR DETAILS")),r.a.createElement(be.a,null,r.a.createElement(H.a,{autoFocus:!0,onClick:function(){return e.closeOperatorDialog()},color:"primary",style:{marginTop:20}},this.operatorDetails?"DONE":"CANCEL"))))))))}},{key:"retreiveOperatorDetails",value:function(){var e=this;this.retrievingDetails=!0,setTimeout((function(){e.retrievingDetails=!1,e.operatorDetails=e.scanRecordForOperatorRetreival.operatorFullName()}),3e3)}},{key:"openOperatorRetreivalDialog",value:function(e){this.scanRecordForOperatorRetreival=e}},{key:"closeOperatorDialog",value:function(){this.scanRecordForOperatorRetreival=null,this.operatorDetails=null}},{key:"isOperatorDialogOpen",value:function(){return null!=this.scanRecordForOperatorRetreival}},{key:"selected",get:function(){return null!=this.selectedItemUID?-1!=this.props.statistics.itemUIDs.indexOf(this.selectedItemUID)?this.selectedItemUID:null:this.props.statistics.itemUIDs[0]}}]),t}(r.a.Component),X=Object(E.a)(q.prototype,"selectedItemUID",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=Object(E.a)(q.prototype,"ready",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=Object(E.a)(q.prototype,"pageSize",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),$=Object(E.a)(q.prototype,"currentPage",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=Object(E.a)(q.prototype,"retrievingDetails",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),te=Object(E.a)(q.prototype,"operatorDetails",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=Object(E.a)(q.prototype,"scanRecordForOperatorRetreival",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=q))||Y)||Y,we=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(L.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).toRunOnMount=[],a}return Object(z.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this.toRunOnMount;this.toRunOnMount=null,e.forEach((function(e){return e()}))}},{key:"runOnMount",value:function(e){null==this.toRunOnMount?e():this.toRunOnMount.push(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=t.value,i=t.color,o=t.image,c=t.percent;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"0 3px"}},r.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",alignContent:"flex-end",paddingBottom:5}},r.a.createElement("div",{style:{flex:1}}),r.a.createElement("div",{style:{textAlign:"center",fontSize:24,paddingBottom:3}},n),r.a.createElement("div",{style:{backgroundColor:i,height:0,transition:"height 1s"},ref:function(t){return e.runOnMount((function(){setTimeout((function(){t&&(t.style.height="".concat(Math.ceil(100*c),"%"))}),10)}))}})),r.a.createElement("div",{style:{height:124*.6+10,width:134*.6,backgroundColor:"#e9e9e9",boxSizing:"border-box",display:"flex",flexDirection:"column",fontSize:9.6,color:"#060606",alignItems:"center"}},r.a.createElement("div",{style:{height:42,minHeight:42,width:42,minWidth:42,marginTop:12,backgroundImage:"url(".concat(o,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"}}),r.a.createElement("span",{style:{textAlign:"center",paddingTop:5,paddingBottom:12,wordBreak:"break-word"}},a)))}}]),t}(r.a.Component),Oe=function(e){function t(){return Object(w.a)(this,t),Object(L.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.labels,a=e.values,n=e.colors,i=e.images,o=S.max(a);return r.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"center"}},t.map((function(e,c){return r.a.createElement(we,{label:t[c],value:a[c],image:i[c],color:n[c%n.length],percent:0==o?0:a[c]/o})})))}}]),t}(r.a.Component),Ee=Object(f.c)((re=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(L.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r))),Object(v.a)(a,"initDisplayedData",ie,Object(U.a)(a)),Object(v.a)(a,"finalDisplayedData",oe,Object(U.a)(a)),Object(v.a)(a,"initial",ce,Object(U.a)(a)),a.mounted=!1,a}return Object(z.a)(t,e),Object(O.a)(t,[{key:"format",value:function(e){return this.props.decimals?"".concat(Math.floor(e),".").concat(Math.floor(10*e)%10):"".concat(e)}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.data||0,a=Date.now();!function n(){if(e.mounted){var r=Date.now()-a;r<1e3?(e.initDisplayedData=Math.floor(t*(r/1e3)),requestAnimationFrame(n)):(e.finalDisplayedData=t,e.initial=!1)}}()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(){this.finalDisplayedData=this.props.data}},{key:"render",value:function(){return r.a.createElement("div",{className:"databox"},r.a.createElement("div",{className:"databox-title"},this.props.title),r.a.createElement("div",{className:"databox-infotext"},r.a.createElement("span",null,this.format(this.initial?this.initDisplayedData:this.finalDisplayedData)),this.props.subText&&r.a.createElement("div",{className:"databox-subtext"},r.a.createElement("span",null,this.props.subText))))}}]),t}(r.a.Component),ie=Object(E.a)(re.prototype,"initDisplayedData",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oe=Object(E.a)(re.prototype,"finalDisplayedData",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=Object(E.a)(re.prototype,"initial",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ne=re))||ne,je=[{name:"itemStatus",path:"/item_status",menuImg:"/menu-item-status.svg",cssClass:"item-status",displayIndex:1,component:ve},{name:"overview",path:"/",menuImg:"/menu-overview.svg",cssClass:"overview",displayIndex:0,component:Object(f.b)("statistics","gatewayConfig")(le=Object(f.c)((se=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(L.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r))),Object(v.a)(a,"rowsPerPage",ue,Object(U.a)(a)),Object(v.a)(a,"page",me,Object(U.a)(a)),a}return Object(z.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.props.statistics.itemCountByGateway,a=this.props.gatewayConfig.all().map((function(e){return e.ID}));return r.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,borderRight:"1px solid #ebedf8"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},r.a.createElement("div",{style:{flex:1,marginTop:50}},r.a.createElement("div",{className:"title",style:{height:46,borderBottom:"1px solid #ebedf8",alignItems:"start"}},r.a.createElement("span",null,"Products by gateway")),r.a.createElement("div",{style:{height:300,padding:20,borderBottom:"1px solid #ebedf8"}},r.a.createElement(Oe,{colors:["#035093","#035093","#4889c2","#0a4171"],images:a.map((function(e){return J(e)})),labels:a.map((function(t){return e.props.gatewayConfig.getFor(t).Alias})),values:a.map((function(e){return t[e]||0}))}))))),r.a.createElement("div",{style:{letterSpacing:1.13,fontSize:19}},this.renderDataSection()))}},{key:"renderDataSection",value:function(){var e=this.props.statistics;return r.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{className:"title",style:{height:96,width:"100%",borderBottom:"1px solid #ebedf8"}},r.a.createElement("span",{style:{marginTop:22}},"Data")),r.a.createElement("div",{style:{margin:"30px 30px 0 30px"}},r.a.createElement("table",{className:"data-table"},r.a.createElement("tr",null,r.a.createElement("td",{className:"border-right border-bottom"},r.a.createElement(Ee,{title:"Alerted Products",data:e.alertedItems.length})),r.a.createElement("td",{className:"border-left border-bottom"},r.a.createElement(Ee,{title:"Avg. Time in pipeline",data:e.avgPiplineTimePerItemInDays,subText:"DAYS",decimals:1}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"border-right border-top"},r.a.createElement(Ee,{title:"Suspected counterfeit",data:0})),r.a.createElement("td",{className:"border-left border-top"},r.a.createElement(Ee,{title:"Avg. scans per item",data:e.avgRecordsPerItem,decimals:1})))),r.a.createElement("div",{style:{borderBottom:"1px solid #ebedf8",height:0}}),r.a.createElement("div",{style:{fontSize:16,color:"#060606",margin:"40px 0 40px"}},"Items Location"),r.a.createElement("img",{src:"/trackntrace-website-vc-data/worldmap.svg",style:{width:"100%"},alt:"Route tracking"})))}}]),t}(r.a.Component),ue=Object(E.a)(se.prototype,"rowsPerPage",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),me=Object(E.a)(se.prototype,"page",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),le=se))||le)||le}];function De(){return je.find((function(e){return e.path==window.location.hash.slice(1)}))||je[je.length-1]}function ke(e){var t=e.onClick,a=e.className;return r.a.createElement("div",{onClick:function(){return t()},style:{width:"100%",boxSizing:"border-box",margin:30},className:a})}var Ie,xe,Se,Ce,Pe=Object(f.c)((pe=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(L.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r))),Object(v.a)(a,"currentRoute",he,Object(U.a)(a)),a}return Object(z.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=function(t){return"menu-item menu-item-".concat(t.cssClass," ").concat(e.currentRoute.name==t.name?"selected":"")};return r.a.createElement("div",{className:"side-menu",style:{height:"100%",width:"100%"}},r.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n                .side-menu .menu-item-overview {\n                    background-image: url(".concat("/trackntrace-website-vc-data","/menu-overview.svg);\n                }\n\n                .side-menu .menu-item-overview.selected{\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-overview-selected.svg);\n                    border-right: 3px solid #3e4d73;\n                }\n\n                .side-menu .menu-item-overview:hover{\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-overview-hovered.svg);\n                }\n\n                .side-menu .menu-item-item-status {\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-status.svg);\n                }\n\n                .side-menu .menu-item-item-status.selected{\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-status-selected.svg);\n                    border-right: 3px solid #3e4d73;\n                }\n\n                .side-menu .menu-item-item-status:hover{\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-status-hovered.svg);\n                }\n            ")}}),r.a.createElement("div",{className:"side-menu-orbs",style:{padding:30,marginBottom:20}},r.a.createElement("img",{style:{height:32,width:32},src:"/trackntrace-website-vc-data/orbs-logo.svg"})),S.sortBy(je,(function(e){return e.displayIndex})).map((function(a){return r.a.createElement(ke,{onClick:function(){return e.navigateTo(a)},className:t(a)})})))}},{key:"navigateTo",value:function(e){window.location.hash=e.path,this.currentRoute=e}},{key:"componentDidMount",value:function(){var e=this;window.onhashchange=function(){return e.currentRoute=De()}}},{key:"componentWillUnmount",value:function(){window.onhashchange=null}}]),t}(r.a.Component),he=Object(E.a)(pe.prototype,"currentRoute",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return De()}}),de=pe))||de,Re=Object(f.c)((xe=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(L.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r))),Object(v.a)(a,"loadingCaption",Se,Object(U.a)(a)),a}return Object(z.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading-page"},r.a.createElement("div",{className:"logo-container"},r.a.createElement("div",{style:{height:"100%",width:"100%",textAlign:"center"}},r.a.createElement("img",{className:"orbs-logo",src:"/trackntrace-website-vc-data/orbs-logo.svg"})),r.a.createElement("div",{className:"loading-lbl"},this.loadingCaption)))}},{key:"componentDidMount",value:function(){var e=this,t=0;setInterval((function(){e.loadingCaption="Loading"+S.range(t).map((function(){return"."})).join(""),t=(t+1)%4}),500)}}]),t}(r.a.Component),Se=Object(E.a)(xe.prototype,"loadingCaption",[j.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Loading..."}}),Ie=xe))||Ie,Te=a(158),Ae=a(154),Le=function(e){function t(){return Object(w.a)(this,t),Object(L.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"left"}},r.a.createElement(Te.a,{severity:"error"},r.a.createElement(Ae.a,null,"Error"),"We were unable to load the page at the moment. Please try again. ",r.a.createElement("br",null),r.a.createElement("span",{style:{color:"#bebebe"}},r.a.createElement("pre",null,this.props.err.toString()))))}}]),t}(r.a.Component),Be=Object(f.b)("records","gatewayConfig")(Ce=Object(f.c)(Ce=function(e){function t(){return Object(w.a)(this,t),Object(L.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return this.props.records.ready&&this.props.gatewayConfig.ready?r.a.createElement(M.a,null,r.a.createElement("div",{style:{height:"100%",width:"100%",maxWidth:2e3,display:"inline-block",position:"relative",textAlign:"left"}},r.a.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,width:89}},r.a.createElement(Pe,null)),r.a.createElement("div",{style:{position:"absolute",top:0,left:90,bottom:0,right:0,overflow:"auto",borderRight:"1px solid #ebedf8"}},r.a.createElement(N.c,null,je.map((function(e){var t=e.component;return r.a.createElement(N.a,{path:e.path},r.a.createElement(t,null))})))))):this.props.records.err||this.props.gatewayConfig.err?r.a.createElement(Le,{err:this.props.records.err||this.props.gatewayConfig.err}):r.a.createElement(Re,null)}}]),t}(r.a.Component))||Ce)||Ce,ze=function(){var e=new A,t=new x(e);return{records:t,gatewayConfig:e,statistics:new C(t)}}();window.stores=ze,o.a.render(r.a.createElement(f.a,ze,r.a.createElement(Be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,t,a){e.exports=a(106)},98:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.3b56fe05.chunk.js.map