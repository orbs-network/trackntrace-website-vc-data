(this.webpackJsonppgdashboard=this.webpackJsonppgdashboard||[]).push([[0],{134:function(e,t,a){e.exports=a(236)},139:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(18),i=a.n(o);a(139),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l,c,s,u,m,d,p,g,y=a(17),f=a(29),h=a.n(f),b=a(49),v=a(14),w=a(12),O=a(11),E=a(6),k=(a(32),a(4)),C=["Clere","Edbert","Kareem","Topper","Busey","Woody","Ikkela","Jenesia","Deirdre","Bloom","Ellwood","Burget","Carnay","Karlotte","Vins","Obau","Adoree","Jensen","Lemuela","Nahum","Eskill","Deeanne","Hayes","Meridel","Flemming","Eldwin","Om","Weisbrodt","Scheer","Carlen","Armalda","Schindler","Rahman","Tolley","Sherwin","Avelin","Xever","Lanny","Jedidiah","Dorie","Madalena","Langston","Halle","Ileana","Hunley","Juieta","Ngo","Lubet","Marlene","Ruthanne","Stover","Decca","Marrin","Taite","Mae","Wester","Bricker","Prissy","Eadith","Zacharie","Malarkey","Prakash","Eichman","Helbonnas","Truc","Horatia","McConnell","Stanhope","Lathan","Hax","Erick","Denney","Faludi","Cherry","Keefer","Jarib","Ahrens","Olwen","Farris","Bibbie","Mont","Sunil","McNalley","Girovard","Schreibe","Kilgore","Stevana","Gabler","Phillida","Putnam","Biagi","Neau","Katherin","Sedgewake","Eisler","Cyrille","Uri","Tammany","Hagar","Amby"],j=function(e){return Math.abs(e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0))},I=function(){function e(t,a){var r=this;Object(w.a)(this,e),this.raw=t,this.gatewayConfig=a,this.rawLowecase=void 0,this.rawLowecase={},Object.keys(t).forEach((function(e){return r.rawLowecase[e.toLowerCase()]=t[e]}))}return Object(O.a)(e,[{key:"itemId",value:function(){return this.rawLowecase.tagid}},{key:"timestampInSeconds",value:function(){return this.timestampInMilliseconds()/1e3}},{key:"timestampInMilliseconds",value:function(){return 1e3*this.rawLowecase.timestamp}},{key:"timestampAsDate",value:function(){return new Date(this.timestampInMilliseconds())}},{key:"gatewayId",value:function(){return this.rawLowecase.gatewayid}},{key:"eventType",value:function(){return this.rawLowecase.eventtype}},{key:"eventValue",value:function(){return this.rawLowecase.eventvalue}},{key:"gatewayAlias",value:function(){var e=this.gatewayConfig.getFor(this.rawLowecase.gatewayid);return e?e.Alias:this.rawLowecase.gatewayid}},{key:"gatewayLocationCategory",value:function(){var e=this.gatewayConfig.getFor(this.rawLowecase.gatewayid);return e?e.LocationCategory:null}},{key:"recordId",value:function(){return j(JSON.stringify(this.raw)).toString()}},{key:"isOperatorAvailable",value:function(){return!1}},{key:"operatorFullName",value:function(){var e=j(this.recordId()),t=C[(e+1)%C.length];return"".concat(C[e%C.length]," ").concat(t)}}]),e}(),D=a(9),S=(l=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Object(w.a)(this,e),this.gatewayConfig=t,Object(v.a)(this,"ready",c,this),Object(v.a)(this,"err",s,this),Object(v.a)(this,"records",u,this),this.init(a)}return Object(O.a)(e,[{key:"init",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Date.now(),e.next=4,this.fetch();case 4:1,setTimeout((function(){return r.ready=!0}),1),(a=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.fetch();case 3:setTimeout(a,t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r.err=e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}())(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.err=e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(Object(b.a)(h.a.mark((function e(){var t,a,r=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Object({NODE_ENV:"production",PUBLIC_URL:"https://orbs-network.github.io/trackntrace-website-vc-data",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"/trackntrace-website-vc-data"}).REACT_APP_RECORDS_URL||"https://png-collector.herokuapp.com/getAllEvents");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,null!=this.records&&a.length==this.records.length||(this.records=a.filter((function(e){return"[object Object]"!=e.msg})).filter((function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).find((function(e){return"tagid"==e}))})).map((function(e){return new I(e,r.gatewayConfig)})),this.records=D.sortBy(this.records,(function(e){return e.timestampInMilliseconds()})));case 7:case"end":return e.stop()}}),e,this)}))))}]),e}(),c=Object(E.a)(l.prototype,"ready",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=Object(E.a)(l.prototype,"err",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=Object(E.a)(l.prototype,"records",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l),A=(m=function(){function e(t){Object(w.a)(this,e),this.recordsStore=t}return Object(O.a)(e,[{key:"itemPipelineTimeInSeconds",value:function(e){return Date.now()/1e3-D.min(this.itemRecords(e).map((function(e){return e.timestampInSeconds()})))}},{key:"itemRecords",value:function(e){return this._itemRecords[e]||[]}},{key:"itemRecordsSortedByTime",value:function(e){return D.sortBy(this.itemRecords(e),(function(e){return e.timestampInMilliseconds()}))}},{key:"itemCountByGateway",value:function(e){return this._itemCountByGateway[e.toLowerCase()]||0}},{key:"avgRecordsPerItem",get:function(){return D.chain(this.recordsStore.records).groupBy((function(e){return e.itemId()})).values().map((function(e){return e.length})).mean().value()||0}},{key:"avgPiplineTimePerItemInDays",get:function(){return this.avgPiplineTimePerItemInSeconds/60/60/24}},{key:"avgPiplineTimePerItemInSeconds",get:function(){var e=Date.now()/1e3;return D.chain(this.recordsStore.records).groupBy((function(e){return e.itemId()})).mapValues((function(t){return e-D.min(t.map((function(e){return e.timestampInSeconds()})))})).map((function(e){return Math.max(e,0)})).mean().value()||0}},{key:"itemUIDs",get:function(){return D.chain(this.recordsStore.records).map((function(e){return e.itemId()})).uniq().value()}},{key:"latestRecordsPerItem",get:function(){return D.chain(this.recordsStore.records).groupBy((function(e){return e.itemId()})).mapValues((function(e){return D.maxBy(e,(function(e){return e.timestampInSeconds()}))})).values().value()}},{key:"_itemRecords",get:function(){var e={},t=!0,a=!1,r=void 0;try{for(var n,o=this.recordsStore.records[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;e[i.itemId()]=e[i.itemId()]||[],e[i.itemId()].push(i)}}catch(l){a=!0,r=l}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}return e}},{key:"_itemCountByGateway",get:function(){return D.chain(this.latestRecordsPerItem).groupBy((function(e){return e.gatewayId().toLowerCase()})).mapValues((function(e){return e.length})).value()}},{key:"alerts",get:function(){return[]}},{key:"alertedItems",get:function(){return D.uniq(this.alerts.map((function(e){return e.itemId})))}}]),e}(),Object(E.a)(m.prototype,"avgRecordsPerItem",[k.f],Object.getOwnPropertyDescriptor(m.prototype,"avgRecordsPerItem"),m.prototype),Object(E.a)(m.prototype,"avgPiplineTimePerItemInDays",[k.f],Object.getOwnPropertyDescriptor(m.prototype,"avgPiplineTimePerItemInDays"),m.prototype),Object(E.a)(m.prototype,"avgPiplineTimePerItemInSeconds",[k.f],Object.getOwnPropertyDescriptor(m.prototype,"avgPiplineTimePerItemInSeconds"),m.prototype),Object(E.a)(m.prototype,"itemUIDs",[k.f],Object.getOwnPropertyDescriptor(m.prototype,"itemUIDs"),m.prototype),Object(E.a)(m.prototype,"latestRecordsPerItem",[k.f],Object.getOwnPropertyDescriptor(m.prototype,"latestRecordsPerItem"),m.prototype),Object(E.a)(m.prototype,"_itemRecords",[k.f],Object.getOwnPropertyDescriptor(m.prototype,"_itemRecords"),m.prototype),Object(E.a)(m.prototype,"_itemCountByGateway",[k.f],Object.getOwnPropertyDescriptor(m.prototype,"_itemCountByGateway"),m.prototype),Object(E.a)(m.prototype,"alerts",[k.f],Object.getOwnPropertyDescriptor(m.prototype,"alerts"),m.prototype),Object(E.a)(m.prototype,"alertedItems",[k.f],Object.getOwnPropertyDescriptor(m.prototype,"alertedItems"),m.prototype),m),x=a(10),T=a(115),P=["Truck","Customer DC Shelf","Customer Backroom","Customer Retail Shelf","POS","Front Door"];function L(e){return e&&P.find((function(t){return t.replace(/\s/g,"").toLowerCase()==e.replace(/\s/g,"").toLowerCase()}))||e}function R(e){return B.apply(this,arguments)}function B(){return(B=Object(b.a)(h.a.mark((function e(t){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return e.replace(/\s/g,"").toLowerCase()},r=function(e){return null==e?null:""!=e.trim()?e.trim():null},e.abrupt("return",new Promise((function(e,n){T.parse(t,{download:!0,header:!0,error:function(e){return n(e)},complete:function(t){e(t.data.filter((function(e){return Object.keys(e).filter((function(t){return null!=r(e[t])})).length>0})).map((function(e){return Object.keys(e).forEach((function(t){var r=a(t);""==r?delete e[t]:e[r]=e[t]})),e})).map((function(e){return{ID:r(e.id),Alias:r(e.alias),LocationCategory:L(r(e.locationcategory)),SiteCategory:r(e.sitecategory),BackroomGatewayId:r(e.backroomgatewayid)}})))}})})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H,W,z=(d=function(){function e(){Object(w.a)(this,e),Object(v.a)(this,"ready",p,this),Object(v.a)(this,"err",g,this),this.records=void 0,this.configById={},this.init()}return Object(O.a)(e,[{key:"init",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,a,r,n,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(Object({NODE_ENV:"production",PUBLIC_URL:"https://orbs-network.github.io/trackntrace-website-vc-data",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"/trackntrace-website-vc-data"}).REACT_APP_GATEWAY_CONFIG_URL||"https://trackntrace-config.s3.amazonaws.com/gw-conf.csv?AWSAccessKeyId=AKIA2SZDVCH33R4YMMVC&Signature=4uE4VaePWxQg3nOR%2Ff%2B5NJzhAUs%3D&Expires=1901521907");case 3:for(this.records=e.sent,this.prevalidateConfig(),t=!0,a=!1,r=void 0,e.prev=8,n=this.records[Symbol.iterator]();!(t=(o=n.next()).done);t=!0)i=o.value,this.configById[i.ID.toLowerCase()]=i;e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),a=!0,r=e.t0;case 16:e.prev=16,e.prev=17,t||null==n.return||n.return();case 19:if(e.prev=19,!a){e.next=22;break}throw r;case 22:return e.finish(19);case 23:return e.finish(16);case 24:this.postvalidateConfig(),this.ready=!0,e.next=31;break;case 28:e.prev=28,e.t1=e.catch(0),this.err=e.t1;case 31:case"end":return e.stop()}}),e,this,[[0,28],[8,12,16,24],[17,,19,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"prevalidateConfig",value:function(){var e=!0,t=!1,a=void 0;try{for(var r,n=this.records[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){if(null==r.value.ID)throw new Error("Invalid gateway config: missing gateway ID")}}catch(o){t=!0,a=o}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}}},{key:"postvalidateConfig",value:function(){var e=!0,t=!1,a=void 0;try{for(var r,n=this.records[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var o=r.value;if(this.configById[o.ID.toLowerCase()]!=o)throw new Error("Multiple gateways with same ID: ".concat(o.ID));if(o.BackroomGatewayId&&null==this.getFor(o.BackroomGatewayId))throw new Error("Invalid backroomGatewayId for gateway ".concat(o.ID))}}catch(i){t=!0,a=i}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}}},{key:"getFor",value:function(e){return D.cloneDeep(this.configById[e.toLowerCase()])}},{key:"all",value:function(){return D.cloneDeep(this.records)}},{key:"gatewayImage",value:function(e){var t,a=this.getFor(e),r=(a&&a.LocationCategory||e).toLowerCase();return"/trackntrace-website-vc-data"+((t={},Object(x.a)(t,"3c71bf63e190".toLowerCase(),"/mixingcenter.svg"),Object(x.a)(t,"GW98f4ab141D14".toLowerCase(),"/factory.svg"),Object(x.a)(t,"GW984fab141D70".toLowerCase(),"/truck.svg"),Object(x.a)(t,"GW98f4ab141D70".toLowerCase(),"/truck.svg"),Object(x.a)(t,"GW98f4ab141D38".toLowerCase(),"/distributioncenter.svg"),Object(x.a)(t,"GW98f4ab141DF4".toLowerCase(),"/inventory.svg"),Object(x.a)(t,"GW98f4ab141D0C".toLowerCase(),"/retailstorage.svg"),Object(x.a)(t,"Truck".toLowerCase(),"/truck.svg"),Object(x.a)(t,"Customer DC Shelf".toLowerCase(),"/inventory.svg"),Object(x.a)(t,"Customer Backroom".toLowerCase(),"/retailstorage.svg"),Object(x.a)(t,"Customer Retail Shelf".toLowerCase(),"/inventory.svg"),Object(x.a)(t,"POS".toLowerCase(),"/distributioncenter.svg"),Object(x.a)(t,"Front Door".toLowerCase(),"/mixingcenter.svg"),Object(x.a)(t,"Original".toLowerCase(),"/mixingcenter.svg"),Object(x.a)(t,"P&G Manufacturing".toLowerCase(),"/factory.svg"),Object(x.a)(t,"P&G Truck".toLowerCase(),"/truck.svg"),Object(x.a)(t,"Customer DC or P&G DC".toLowerCase(),"/distributioncenter.svg"),Object(x.a)(t,"Customer DC or P&G DC Shelf".toLowerCase(),"/inventory.svg"),Object(x.a)(t,"P&G Customer Store".toLowerCase(),"/retailstorage.svg"),t)[r]||"/mixingcenter.svg")}},{key:"customerBackrooms",get:function(){return this.all().filter((function(e){return"Customer Backroom"==e.LocationCategory}))}},{key:"customerRetailShelves",get:function(){return this.all().filter((function(e){return"Customer Retail Shelf"==e.LocationCategory}))}},{key:"POSes",get:function(){return this.all().filter((function(e){return"POS"==e.LocationCategory}))}},{key:"FrontDoors",get:function(){return this.all().filter((function(e){return"Front Door"==e.LocationCategory}))}}]),e}(),p=Object(E.a)(d.prototype,"ready",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=Object(E.a)(d.prototype,"err",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(E.a)(d.prototype,"customerBackrooms",[k.f],Object.getOwnPropertyDescriptor(d.prototype,"customerBackrooms"),d.prototype),Object(E.a)(d.prototype,"customerRetailShelves",[k.f],Object.getOwnPropertyDescriptor(d.prototype,"customerRetailShelves"),d.prototype),Object(E.a)(d.prototype,"POSes",[k.f],Object.getOwnPropertyDescriptor(d.prototype,"POSes"),d.prototype),Object(E.a)(d.prototype,"FrontDoors",[k.f],Object.getOwnPropertyDescriptor(d.prototype,"FrontDoors"),d.prototype),d),G=(H=function(){function e(t,a){Object(w.a)(this,e),this.statistics=t,this.gatewayConfig=a}return Object(O.a)(e,[{key:"inventoryNotOnShelfAlerts",get:function(){var e=this;return this.gatewayConfig.customerRetailShelves.map((function(t){if(t.BackroomGatewayId){var a=e.gatewayConfig.getFor(t.BackroomGatewayId),r=e.statistics.itemCountByGateway(t.ID);if(a&&r<3)if(e.statistics.itemCountByGateway(a.ID)>=1)return{timestamp:new Date,category:"OSA",alertType:"Inventory Not On Shelf",gatewayId:t.ID};return null}})).filter((function(e){return null!=e}))}},{key:"backroomInventoryLowAlerts",get:function(){var e=this;return this.gatewayConfig.customerBackrooms.map((function(t){return 0==e.statistics.itemCountByGateway(t.ID)?{timestamp:new Date,category:"OSA",alertType:"Backroom Inventory Low",gatewayId:t.ID}:null})).filter((function(e){return e}))}},{key:"alerts",get:function(){return this.inventoryNotOnShelfAlerts.concat(this.backroomInventoryLowAlerts)}}]),e}(),Object(E.a)(H.prototype,"inventoryNotOnShelfAlerts",[k.f],Object.getOwnPropertyDescriptor(H.prototype,"inventoryNotOnShelfAlerts"),H.prototype),Object(E.a)(H.prototype,"backroomInventoryLowAlerts",[k.f],Object.getOwnPropertyDescriptor(H.prototype,"backroomInventoryLowAlerts"),H.prototype),Object(E.a)(H.prototype,"alerts",[k.f],Object.getOwnPropertyDescriptor(H.prototype,"alerts"),H.prototype),H),M=["Inventory Not On Shelf","Backroom Inventory Low","Item Skipped POS","Item Went Dark","Large Quantity Went Dark"];function N(e,t,a){if(0==e.length)return{bins:[],binSize:0,startTime:0};var r=e.map((function(e){return e.timestamp.getTime()})),n=D.min(r),o=(D.max(r)+1-n)/t;a>o&&(o=a,t=Math.floor((D.max(r)+1-n)/o)+1);var i=D.range(t).map((function(){return 0})),l=!0,c=!1,s=void 0;try{for(var u,m=e[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var d=u.value;i[Math.floor((d.timestamp.getTime()-n)/o)]++}}catch(p){c=!0,s=p}finally{try{l||null==m.return||m.return()}finally{if(c)throw s}}return{bins:i,binSize:o,startTime:n}}function _(e,t){return e.filter((function(e){return e.timestamp.getTime()>Date.now()-t}))}var F=(W=function(){function e(t,a){Object(w.a)(this,e),this.statistics=t,this.gatewayConfig=a}return Object(O.a)(e,[{key:"itemSkippedPOSAlerts",get:function(){var e=this;return this.gatewayConfig.FrontDoors.map((function(t){if(!t.BackroomGatewayId)return null;var a=e.gatewayConfig.getFor(t.BackroomGatewayId);if(!a)return null;if("POS"!=a.LocationCategory)return null;if(!a.BackroomGatewayId)return null;var r=e.gatewayConfig.getFor(a.BackroomGatewayId);return r?"Customer Retail Shelf"!=r.LocationCategory?null:e.statistics.itemUIDs.map((function(n){var o=e.statistics.itemRecords(n),i=o.find((function(e){return e.gatewayId().toLowerCase()==a.ID.toLowerCase()})),l=o.find((function(e){return e.gatewayId().toLowerCase()==t.ID.toLowerCase()})),c=o.find((function(e){return e.gatewayId().toLowerCase()==r.ID.toLowerCase()}));return l&&c&&!i?{timestamp:l.timestampAsDate(),category:"Shrinkage",alertType:"Item Skipped POS",itemId:n,gatewayId:t.ID}:null})):null})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return e}))}},{key:"itemWentDarkAlerts",get:function(){var e=this;return this.gatewayConfig.customerRetailShelves.map((function(t){return e.statistics.itemUIDs.map((function(a){var r=e.statistics.itemRecords(a),n=r.filter((function(e){return e.gatewayId().toLowerCase()==t.ID.toLowerCase()}));if(n.length>0&&!r.find((function(e){return"POS"==e.gatewayLocationCategory()}))){var o=n[n.length-1];if(Date.now()-o.timestampInMilliseconds()>72e5)return{timestamp:new Date(o.timestampInMilliseconds()+72e5),category:"Shrinkage",alertType:"Item Went Dark",itemId:a,gatewayId:t.ID}}return null}))})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return e}))}},{key:"largeQuantityWentDarkAlerts",get:function(){return this.itemWentDarkAlerts.length>3?[{timestamp:D.sortBy(this.itemWentDarkAlerts,(function(e){return e.timestamp.getTime()}))[2].timestamp,category:"Shrinkage",alertType:"Large Quantity Went Dark",quantity:this.itemWentDarkAlerts.length}]:[]}},{key:"alertedItemsCountLast24Hours",get:function(){return D.uniq(_(this.itemSkippedPOSAlerts,864e5).concat(_(this.itemWentDarkAlerts,864e5)).map((function(e){return e.itemId}))).length}},{key:"alertedItemsCountLast30Days",get:function(){return D.uniq(_(this.itemSkippedPOSAlerts,2592e6).concat(_(this.itemWentDarkAlerts,2592e6)).map((function(e){return e.itemId}))).length}},{key:"alerts",get:function(){return this.itemSkippedPOSAlerts.concat(this.itemWentDarkAlerts).concat(this.largeQuantityWentDarkAlerts)}}]),e}(),Object(E.a)(W.prototype,"itemSkippedPOSAlerts",[k.f],Object.getOwnPropertyDescriptor(W.prototype,"itemSkippedPOSAlerts"),W.prototype),Object(E.a)(W.prototype,"itemWentDarkAlerts",[k.f],Object.getOwnPropertyDescriptor(W.prototype,"itemWentDarkAlerts"),W.prototype),Object(E.a)(W.prototype,"largeQuantityWentDarkAlerts",[k.f],Object.getOwnPropertyDescriptor(W.prototype,"largeQuantityWentDarkAlerts"),W.prototype),Object(E.a)(W.prototype,"alertedItemsCountLast24Hours",[k.f],Object.getOwnPropertyDescriptor(W.prototype,"alertedItemsCountLast24Hours"),W.prototype),Object(E.a)(W.prototype,"alertedItemsCountLast30Days",[k.f],Object.getOwnPropertyDescriptor(W.prototype,"alertedItemsCountLast30Days"),W.prototype),Object(E.a)(W.prototype,"alerts",[k.f],Object.getOwnPropertyDescriptor(W.prototype,"alerts"),W.prototype),W);var U,K,V,Y,J,q,Q,Z,X,$,ee,te,ae,re,ne,oe,ie,le,ce,se,ue,me,de,pe,ge,ye,fe,he,be,ve,we,Oe,Ee,ke,Ce,je,Ie,De,Se,Ae,xe=a(19),Te=a(20),Pe=a(21),Le=a(122),Re=a(43),Be=a(13),He=a(289),We=a(280),ze=a(286),Ge=a(282),Me=a(287),Ne=a(276),_e=a(291),Fe=a(283),Ue=a(281),Ke=function(e){var t=e.title;return n.a.createElement("div",{style:{height:96,borderBottom:"1px solid #ebedf8",fontWeight:"bold",display:"flex",alignItems:"center",paddingLeft:20}},n.a.createElement("div",null,t))},Ve=function(e){return(e<10?"0":"")+e.toString()},Ye=Object(y.b)("statistics","gatewayConfig")(U=Object(y.c)((K=function(e){function t(){var e,a;Object(w.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=Object(xe.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(n))),Object(v.a)(a,"selectedItemUID",V,Object(Be.a)(a)),Object(v.a)(a,"ready",Y,Object(Be.a)(a)),Object(v.a)(a,"pageSize",J,Object(Be.a)(a)),Object(v.a)(a,"currentPage",q,Object(Be.a)(a)),a.currentTimeoutHandle=void 0,Object(v.a)(a,"retrievingDetails",Q,Object(Be.a)(a)),Object(v.a)(a,"operatorDetails",Z,Object(Be.a)(a)),Object(v.a)(a,"scanRecordForOperatorRetreival",X,Object(Be.a)(a)),a}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadData(),Object(k.n)((function(){return e.selected}),(function(){return e.loadData()}))}},{key:"loadData",value:function(){var e=this;this.selected&&(this.ready=!1,this.currentTimeoutHandle&&clearTimeout(this.currentTimeoutHandle),this.currentTimeoutHandle=setTimeout((function(){e.ready=!0,e.currentTimeoutHandle=null}),1e3))}},{key:"componentWillUnmount",value:function(){this.currentTimeoutHandle&&clearTimeout(this.currentTimeoutHandle)}},{key:"render",value:function(){var e=this,t=this.props.statistics.itemRecords(this.selected);return n.a.createElement("div",null,n.a.createElement(Ke,{title:"Item Scan History"}),n.a.createElement("div",{style:{margin:"0 0 0 30px"}},n.a.createElement("div",{style:{display:"flex",alignItems:"center"}},n.a.createElement("div",{style:{display:"inline-block",fontWeight:"bold",fontSize:21,padding:"32px 15px 32px 0"}},"Search an item:"),this.props.statistics.itemUIDs.length>0&&n.a.createElement(Me.a,{options:this.props.statistics.itemUIDs,getOptionLabel:function(e){return e},style:{width:300},filterOptions:Object(Ne.a)({matchFrom:"start"}),onChange:function(t,a){e.selectedItemUID=a,e.loadData()},value:null==this.selectedItemUID?this.selected:this.selectedItemUID,renderInput:function(e){return n.a.createElement(He.a,Object.assign({},e,{label:"Item UID",variant:"outlined"}))}}),!this.ready&&n.a.createElement(We.a,{style:{marginLeft:20}})),null!=this.selected&&this.ready&&n.a.createElement("div",{style:{borderRadius:4,border:"solid 1px #ebedf8",backgroundColor:"#f8f8f8",padding:37,display:"flex",flexDirection:"row",marginRight:30,overflow:"auto"}},n.a.createElement("div",null,n.a.createElement("div",{style:{fontSize:19,color:"#1a173b",letterSpacing:.13,paddingBottom:12}},"Item UID"),n.a.createElement("div",{style:{color:"#484848",fontSize:15}},this.selected)),n.a.createElement("div",null,n.a.createElement("table",{className:"item-table",style:{paddingLeft:40}},n.a.createElement("tr",{style:{fontSize:15,letterSpacing:.1,color:"#5e6e7b"}},n.a.createElement("td",null,"Brand"),n.a.createElement("td",null,"Description"),n.a.createElement("td",null,"Catalog No."),n.a.createElement("td",null,"Time in pipeline"),n.a.createElement("td",null,"Status")),n.a.createElement("tr",{style:{fontSize:16,color:"#060606"}},n.a.createElement("td",null,"Gillette"),n.a.createElement("td",null,"Razor Package 135Xg"),n.a.createElement("td",null,"1225434DLX"),n.a.createElement("td",null,Math.floor(this.props.statistics.itemPipelineTimeInSeconds(this.selected)/60/60/24)," days"),n.a.createElement("td",{style:{fontWeight:"bold",fontSize:16,color:"#769806"}},"OK"))))),this.selected&&this.ready&&n.a.createElement("div",null,n.a.createElement("div",{style:{display:"inline-block",fontWeight:"bold",fontSize:21,padding:"32px 15px 32px 0",borderBottom:"solid 0.5px #ebedf8",width:"100%"}},"Item history"),n.a.createElement("div",null,n.a.createElement("div",{className:"item-history-table"},n.a.createElement("table",null,n.a.createElement("tr",null,n.a.createElement("td",null),n.a.createElement("td",null,"Gateway"),n.a.createElement("td",null,"Gateway ID"),n.a.createElement("td",null,"Event Type"),n.a.createElement("td",null,"Event Value"),n.a.createElement("td",null,"Date"),n.a.createElement("td",null,"Time")),D.sortBy(t,(function(e){return-e.timestampInSeconds()})).slice(this.pageSize*this.currentPage,this.pageSize*(this.currentPage+1)).map((function(t){return n.a.createElement("tr",null,n.a.createElement("td",{className:"record-id-cell"},"Record ",t.recordId()),n.a.createElement("td",{style:{textAlign:"left"}},n.a.createElement("div",{style:{verticalAlign:"middle",width:30,height:30,backgroundImage:"url(".concat(e.props.gatewayConfig.gatewayImage(t.gatewayId()),")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",whiteSpace:"nowrap",backgroundPosition:"center",display:"inline-block"}}),"\xa0\xa0\xa0",t.gatewayAlias()),n.a.createElement("td",null," ",t.gatewayId()," "),n.a.createElement("td",null," ",t.eventType()," "),n.a.createElement("td",null," ",t.eventValue()," "),n.a.createElement("td",null,"".concat(Ve(t.timestampAsDate().getDate())," ").concat(t.timestampAsDate().toLocaleString("default",{month:"short"}),", ").concat(t.timestampAsDate().getFullYear())),n.a.createElement("td",null,"".concat(Ve(t.timestampAsDate().getHours()),":").concat(Ve(t.timestampAsDate().getMinutes()))))}))),n.a.createElement(ze.a,{rowsPerPageOptions:[5,10],component:"div",count:t.length,rowsPerPage:this.pageSize,page:this.currentPage,onChangePage:function(t,a){return e.currentPage=a},onChangeRowsPerPage:function(t){e.pageSize=parseInt(t.target.value)}}),this.isOperatorDialogOpen()&&n.a.createElement(_e.a,{onClose:function(){return e.closeOperatorDialog()},"aria-labelledby":"Scan Operator Details",open:this.isOperatorDialogOpen()},n.a.createElement("div",{style:{fontSize:20,fontWeight:"bold",margin:20}},"Scan Operator Details"),n.a.createElement(Ue.a,{style:{textAlign:"left"}},"You are attempting to retrieve operator details of scan ",this.scanRecordForOperatorRetreival.recordId(),".",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null,"Note - this action will be logged!"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{style:{textAlign:"center"}},this.retrievingDetails?n.a.createElement(We.a,null):this.operatorDetails?n.a.createElement("span",null,"Full name: ",n.a.createElement("b",null,this.operatorDetails)):n.a.createElement(Ge.a,{variant:"contained",color:"primary",onClick:function(){return e.retreiveOperatorDetails()}},"RETRIEVE OEPRATOR DETAILS")),n.a.createElement(Fe.a,null,n.a.createElement(Ge.a,{autoFocus:!0,onClick:function(){return e.closeOperatorDialog()},color:"primary",style:{marginTop:20}},this.operatorDetails?"DONE":"CANCEL")))))))))}},{key:"retreiveOperatorDetails",value:function(){var e=this;this.retrievingDetails=!0,setTimeout((function(){e.retrievingDetails=!1,e.operatorDetails=e.scanRecordForOperatorRetreival.operatorFullName()}),3e3)}},{key:"openOperatorRetreivalDialog",value:function(e){this.scanRecordForOperatorRetreival=e}},{key:"closeOperatorDialog",value:function(){this.scanRecordForOperatorRetreival=null,this.operatorDetails=null}},{key:"isOperatorDialogOpen",value:function(){return null!=this.scanRecordForOperatorRetreival}},{key:"selected",get:function(){return null!=this.selectedItemUID?-1!=this.props.statistics.itemUIDs.indexOf(this.selectedItemUID)?this.selectedItemUID:null:this.props.statistics.itemUIDs[0]}}]),t}(n.a.Component),V=Object(E.a)(K.prototype,"selectedItemUID",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=Object(E.a)(K.prototype,"ready",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=Object(E.a)(K.prototype,"pageSize",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),q=Object(E.a)(K.prototype,"currentPage",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=Object(E.a)(K.prototype,"retrievingDetails",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=Object(E.a)(K.prototype,"operatorDetails",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=Object(E.a)(K.prototype,"scanRecordForOperatorRetreival",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=K))||U)||U,Je=function(e){function t(){var e,a;Object(w.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(xe.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(n)))).toRunOnMount=[],a}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this.toRunOnMount;this.toRunOnMount=null,e.forEach((function(e){return e()}))}},{key:"runOnMount",value:function(e){null==this.toRunOnMount?e():this.toRunOnMount.push(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,r=t.value,o=t.color,i=t.image,l=t.percent;return n.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"0 3px"}},n.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",alignContent:"flex-end",paddingBottom:5}},n.a.createElement("div",{style:{flex:1}}),n.a.createElement("div",{style:{textAlign:"center",fontSize:24,paddingBottom:3}},r),n.a.createElement("div",{style:{backgroundColor:o,height:0,transition:"height 1s"},ref:function(t){return e.runOnMount((function(){setTimeout((function(){t&&(t.style.height="".concat(Math.ceil(100*l),"%"))}),10)}))}})),n.a.createElement("div",{style:{height:124*.6+10,width:134*.6,backgroundColor:"#e9e9e9",boxSizing:"border-box",display:"flex",flexDirection:"column",fontSize:9.6,color:"#060606",alignItems:"center"}},n.a.createElement("div",{style:{height:42,minHeight:42,width:42,minWidth:42,marginTop:12,backgroundImage:"url(".concat(i,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"}}),n.a.createElement("span",{style:{textAlign:"center",paddingTop:5,paddingBottom:12,wordBreak:"break-word"}},a)))}}]),t}(n.a.Component),qe=function(e){function t(){return Object(w.a)(this,t),Object(xe.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.labels,a=e.values,r=e.colors,o=e.images,i=D.max(a);return n.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"center"}},t.map((function(e,l){return n.a.createElement(Je,{label:t[l],value:a[l],image:o[l],color:r[l%r.length],percent:0==i?0:a[l]/i})})))}}]),t}(n.a.Component),Qe=a(75),Ze=a(285),Xe=a(293),$e=function(e){return(e<10?"0":"")+e.toString()},et=Object(y.c)((ee=function(e){function t(){var e,a;Object(w.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=Object(xe.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(n))),Object(v.a)(a,"rowsPerPage",te,Object(Be.a)(a)),Object(v.a)(a,"page",ae,Object(Be.a)(a)),Object(v.a)(a,"alertTypeFilter",re,Object(Be.a)(a)),a}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.props.alerts.filter((function(t){return"all"==e.alertTypeFilter||t.alertType==e.alertTypeFilter}));return n.a.createElement("div",{style:Object(Qe.a)({},this.props.style)},n.a.createElement("div",{style:{textAlign:"right",paddingRight:20}},n.a.createElement("div",{style:{display:"inline-block",paddingRight:10}},"Show only:"),n.a.createElement(Ze.a,{value:this.alertTypeFilter,onChange:function(t){e.alertTypeFilter=t.target.value,e.page=0}},n.a.createElement(Xe.a,{value:"all"},"- All -"),M.map((function(e){return n.a.createElement(Xe.a,{value:e},e)})))),n.a.createElement("table",{className:"alerts-table",style:{maxWidth:"100%"}},n.a.createElement("tr",null,n.a.createElement("td",null,"TIMESTAMP"),n.a.createElement("td",null,"CATEGORY"),n.a.createElement("td",null,"ALERT TYPE"),n.a.createElement("td",null,"ITEM ID"),n.a.createElement("td",null,"GATEWAY"),n.a.createElement("td",null,"DESCRIPTION")),t.length?D.sortBy(t,(function(e){return-e.timestamp.getTime()})).slice(this.page*this.rowsPerPage,(this.page+1)*this.rowsPerPage).map((function(e){return n.a.createElement("tr",null,n.a.createElement("td",{style:{whiteSpace:"nowrap"}},e.timestamp.toDateString()," ",$e(e.timestamp.getHours()),":",$e(e.timestamp.getMinutes())),n.a.createElement("td",{style:{whiteSpace:"nowrap"}},e.category),n.a.createElement("td",{style:{whiteSpace:"nowrap"}},e.alertType),n.a.createElement("td",{style:{whiteSpace:"nowrap"}},e.itemId),n.a.createElement("td",{style:{whiteSpace:"nowrap"}},e.gatewayId),n.a.createElement("td",{style:{width:"100%"}},"Inventory Not On Shelf"==e.alertType?n.a.createElement("span",null,"Customer shelf contains less than 3 items."):"Backroom Inventory Low"==e.alertType?n.a.createElement("span",null,"Customer backroom is empty."):"Item Skipped POS"==e.alertType?n.a.createElement("span",null,"Item went from shelf to front door, skipped point-of-sale."):"Item Went Dark"==e.alertType?n.a.createElement("span",null,"On-shelf item did not scan for more than ",Math.floor((Date.now()-e.timestamp.getTime())/60/60/1e3)," hours."):"Large Quantity Went Dark"==e.alertType?n.a.createElement("span",null," ",n.a.createElement("b",null,e.quantity)," items went dark."):n.a.createElement("span",null)))})):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:6,style:{textAlign:"center",color:"grey"}},"- No Alerts - "))),n.a.createElement(ze.a,{rowsPerPageOptions:[5,10],component:"div",count:t.length,rowsPerPage:this.rowsPerPage,page:this.page,onChangePage:function(t,a){return e.page=a},onChangeRowsPerPage:function(t){e.rowsPerPage=parseInt(t.target.value)}}))}}]),t}(n.a.Component),te=Object(E.a)(ee.prototype,"rowsPerPage",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),ae=Object(E.a)(ee.prototype,"page",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),re=Object(E.a)(ee.prototype,"alertTypeFilter",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"all"}}),$=ee))||$,tt=Object(y.c)((oe=function(e){function t(){var e,a;Object(w.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=Object(xe.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(n))),Object(v.a)(a,"initDisplayedData",ie,Object(Be.a)(a)),Object(v.a)(a,"finalDisplayedData",le,Object(Be.a)(a)),Object(v.a)(a,"initial",ce,Object(Be.a)(a)),a.mounted=!1,a}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"format",value:function(e){return this.props.decimals?"".concat(Math.floor(e),".").concat(Math.floor(10*e)%10):"".concat(e)}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.data||0,a=Date.now();!function r(){if(e.mounted){var n=Date.now()-a;n<1e3?(e.initDisplayedData=Math.floor(t*(n/1e3)),requestAnimationFrame(r)):(e.finalDisplayedData=t,e.initial=!1)}}()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(){this.finalDisplayedData=this.props.data}},{key:"render",value:function(){return n.a.createElement("div",{className:"databox"},n.a.createElement("div",{className:"databox-title"},this.props.title),n.a.createElement("div",{className:"databox-infotext"},n.a.createElement("span",null,this.format(this.initial?this.initDisplayedData:this.finalDisplayedData)),this.props.subText&&n.a.createElement("div",{className:"databox-subtext"},n.a.createElement("span",null,this.props.subText))))}}]),t}(n.a.Component),ie=Object(E.a)(oe.prototype,"initDisplayedData",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),le=Object(E.a)(oe.prototype,"finalDisplayedData",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=Object(E.a)(oe.prototype,"initial",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ne=oe))||ne,at=Object(y.b)("statistics","gatewayConfig","osaAlerts","shrinkageAlerts")(se=Object(y.c)((ue=function(e){function t(){var e,a;Object(w.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=Object(xe.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(n))),Object(v.a)(a,"rowsPerPage",me,Object(Be.a)(a)),Object(v.a)(a,"page",de,Object(Be.a)(a)),a}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.props.gatewayConfig.all().map((function(e){return e.ID}));return n.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"row",justifyContent:"center"}},n.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,borderRight:"1px solid #ebedf8"}},n.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},n.a.createElement("div",{style:{flex:1,marginTop:50}},n.a.createElement("div",{className:"title",style:{height:46,borderBottom:"1px solid #ebedf8",alignItems:"start"}},n.a.createElement("span",null,"Products by gateway")),n.a.createElement("div",{style:{height:300,padding:20,borderBottom:"1px solid #ebedf8"}},n.a.createElement(qe,{colors:["#035093","#035093","#4889c2","#0a4171"],images:t.map((function(t){return e.props.gatewayConfig.gatewayImage(t)})),labels:t.map((function(t){return e.props.gatewayConfig.getFor(t).Alias})),values:t.map((function(t){return e.props.statistics.itemCountByGateway(t)}))})))),this.renderAlertsSection()),n.a.createElement("div",{style:{letterSpacing:1.13,fontSize:19}},this.renderDataSection()))}},{key:"renderAlertsSection",value:function(){var e=this.props.osaAlerts.inventoryNotOnShelfAlerts,t=this.props.osaAlerts.backroomInventoryLowAlerts,a=this.props.shrinkageAlerts.itemSkippedPOSAlerts,r=this.props.shrinkageAlerts.itemWentDarkAlerts,o=this.props.shrinkageAlerts.largeQuantityWentDarkAlerts,i=e.concat(t).concat(a).concat(r).concat(o);return n.a.createElement("div",{style:{marginLeft:50}},n.a.createElement("div",{style:{height:50,borderBottom:"1px solid #ebedf8",display:"flex",flexDirection:"row",alignItems:"center"}},n.a.createElement("img",{src:"/trackntrace-website-vc-data/alert.svg",alt:"alert",style:{padding:"0 10px"}})," ",n.a.createElement("span",null,"Alerts")),i.length>0?n.a.createElement("div",{className:"alerts"},n.a.createElement("ul",null,1==i.length&&n.a.createElement("li",null,"There is ",n.a.createElement("b",null,"1")," active alert"),i.length>1&&n.a.createElement("li",null,"There are ",n.a.createElement("b",null,i.length)," alerts active")),n.a.createElement(et,{alerts:i})):n.a.createElement("div",{style:{color:"#bebebe",margin:10}},"- None -"))}},{key:"renderDataSection",value:function(){var e=this.props.statistics;return n.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},n.a.createElement("div",{className:"title",style:{height:96,width:"100%",borderBottom:"1px solid #ebedf8"}},n.a.createElement("span",{style:{marginTop:22}},"Data")),n.a.createElement("div",{style:{margin:"30px 30px 0 30px"}},n.a.createElement("table",{className:"data-table"},n.a.createElement("tr",null,n.a.createElement("td",{className:"border-right border-bottom"},n.a.createElement(tt,{title:"Alerted Products",data:this.alertedItemsCount})),n.a.createElement("td",{className:"border-left border-bottom"},n.a.createElement(tt,{title:"Avg. Time in pipeline",data:e.avgPiplineTimePerItemInDays,subText:"DAYS",decimals:1}))),n.a.createElement("tr",null,n.a.createElement("td",{className:"border-right border-top"},n.a.createElement(tt,{title:"Suspected counterfeit",data:this.suspectedCounterfietCount})),n.a.createElement("td",{className:"border-left border-top"},n.a.createElement(tt,{title:"Avg. scans per item",data:e.avgRecordsPerItem,decimals:1})))),n.a.createElement("div",{style:{borderBottom:"1px solid #ebedf8",height:0}}),n.a.createElement("div",{style:{fontSize:16,color:"#060606",margin:"40px 0 40px"}},"Items Location"),n.a.createElement("img",{src:"/trackntrace-website-vc-data/worldmap.svg",style:{width:"100%"},alt:"Route tracking"})))}},{key:"allAlerts",get:function(){return this.props.osaAlerts.alerts.concat(this.props.shrinkageAlerts.alerts)}},{key:"alertedItemsCount",get:function(){return D.uniq(this.allAlerts.map((function(e){return e.itemId})).filter((function(e){return e}))).length}},{key:"suspectedCounterfietCount",get:function(){return D.uniq(this.props.shrinkageAlerts.alerts.map((function(e){return e.itemId})).filter((function(e){return e}))).length}}]),t}(n.a.Component),me=Object(E.a)(ue.prototype,"rowsPerPage",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),de=Object(E.a)(ue.prototype,"page",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(E.a)(ue.prototype,"allAlerts",[k.f],Object.getOwnPropertyDescriptor(ue.prototype,"allAlerts"),ue.prototype),Object(E.a)(ue.prototype,"alertedItemsCount",[k.f],Object.getOwnPropertyDescriptor(ue.prototype,"alertedItemsCount"),ue.prototype),Object(E.a)(ue.prototype,"suspectedCounterfietCount",[k.f],Object.getOwnPropertyDescriptor(ue.prototype,"suspectedCounterfietCount"),ue.prototype),se=ue))||se)||se,rt=(pe=function(){function e(t,a,r,n){Object(w.a)(this,e),this.gatewayId=t,this.records=a,this.statistics=r,this.gatewayConfig=n}return Object(O.a)(e,[{key:"turnoverTimeHistogram",value:function(e){var t=D.values(this.turnoverTimes),a=D.range(e).map((function(){return 0})),r=(D.max(t)+1)/e,n=!0,o=!1,i=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var s=l.value;a[Math.floor(s/r)]++}}catch(u){o=!0,i=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return{bins:a,binSize:r}}},{key:"itemCountHistory",value:function(e){var t={},a=[],r=0,n=!0,o=!1,i=void 0;try{for(var l,c=this.records.records[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var s=l.value,u=t[s.itemId()],m=s.gatewayId();u&&u.toLowerCase()==e.toLowerCase()?m.toLowerCase()!=this.gatewayId.toLowerCase()&&(r--,a.push({time:s.timestampInMilliseconds(),count:r})):m.toLowerCase()==this.gatewayId.toLowerCase()&&(r++,a.push({time:s.timestampInMilliseconds(),count:r})),t[s.itemId()]=s.gatewayId()}}catch(d){o=!0,i=d}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return a}},{key:"itemCountAtGateway",get:function(){return this.statistics.itemCountByGateway(this.gatewayId)}},{key:"itemCountAtBackroom",get:function(){return this.statistics.itemCountByGateway(this.gatewayConfig.getFor(this.gatewayId).BackroomGatewayId)}},{key:"turnoverTimes",get:function(){var e={},t={},a=!0,r=!1,n=void 0;try{for(var o,i=this.records.records[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value,c=e[l.itemId()];c&&c.gatewayId().toLowerCase()==this.gatewayId.toLowerCase()?l.gatewayId().toLowerCase()!=this.gatewayId.toLowerCase()&&(t[l.itemId()]=l.timestampInMilliseconds()-c.timestampInMilliseconds()):e[l.itemId()]=l}}catch(s){r=!0,n=s}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}return t}},{key:"avgTurnoverTime",get:function(){var e=this.turnoverTimes;return Object.keys(e).length>0?D.mean(D.values(e)):0}},{key:"gatewayItemCountHistory",get:function(){return this.itemCountHistory(this.gatewayId)}},{key:"backroomItemCountHistory",get:function(){var e=this.gatewayConfig.getFor(this.gatewayId).BackroomGatewayId;return e?this.itemCountHistory(e):[]}}]),e}(),Object(E.a)(pe.prototype,"itemCountAtGateway",[k.f],Object.getOwnPropertyDescriptor(pe.prototype,"itemCountAtGateway"),pe.prototype),Object(E.a)(pe.prototype,"itemCountAtBackroom",[k.f],Object.getOwnPropertyDescriptor(pe.prototype,"itemCountAtBackroom"),pe.prototype),Object(E.a)(pe.prototype,"turnoverTimes",[k.f],Object.getOwnPropertyDescriptor(pe.prototype,"turnoverTimes"),pe.prototype),Object(E.a)(pe.prototype,"avgTurnoverTime",[k.f],Object.getOwnPropertyDescriptor(pe.prototype,"avgTurnoverTime"),pe.prototype),Object(E.a)(pe.prototype,"gatewayItemCountHistory",[k.f],Object.getOwnPropertyDescriptor(pe.prototype,"gatewayItemCountHistory"),pe.prototype),Object(E.a)(pe.prototype,"backroomItemCountHistory",[k.f],Object.getOwnPropertyDescriptor(pe.prototype,"backroomItemCountHistory"),pe.prototype),pe),nt=a(288),ot=a(284),it=function(e){function t(){return Object(w.a)(this,t),Object(xe.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"left"}},n.a.createElement(nt.a,{severity:"error"},n.a.createElement(ot.a,null,"Error"),"We were unable to load the page at the moment. Please try again. ",n.a.createElement("br",null),n.a.createElement("span",{style:{color:"#bebebe"}},n.a.createElement("pre",null,this.props.err.toString()))))}}]),t}(n.a.Component),lt=a(61),ct=function(e){return"".concat(Math.floor(10*e)/10)},st=function(e){return e<36e5?"".concat(ct(e/6e4)," Minutes"):e<864e5?"".concat(ct(e/36e5)," Hours"):"".concat(ct(e/864e5)," Days")},ut=Object(y.b)("statistics","gatewayConfig","records","osaAlerts")(ge=Object(y.c)((ye=function(e){function t(){var e,a;Object(w.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=Object(xe.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(n))),Object(v.a)(a,"ready",fe,Object(Be.a)(a)),a.currentTimeoutHandle=void 0,Object(v.a)(a,"selectedGatewayId",he,Object(Be.a)(a)),Object(v.a)(a,"osaStats",be,Object(Be.a)(a)),a}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.gatewayConfig.customerRetailShelves[0];e&&(this.selectedGatewayId=e.ID),this.loadData()}},{key:"loadData",value:function(){var e=this,t=this.selectedGatewayId;null!=this.props.gatewayConfig.getFor(t)&&(this.ready=!1,this.currentTimeoutHandle&&clearTimeout(this.currentTimeoutHandle),this.currentTimeoutHandle=setTimeout((function(){e.ready=!0,e.currentTimeoutHandle=null,e.osaStats=new rt(t,e.props.records,e.props.statistics,e.props.gatewayConfig)}),1e3))}},{key:"componentWillUnmount",value:function(){this.currentTimeoutHandle&&clearTimeout(this.currentTimeoutHandle)}},{key:"render",value:function(){var e=this;if(0==this.props.gatewayConfig.customerRetailShelves.length)return n.a.createElement(it,{err:new Error("Gateway config does not appear to contain a shelf gateway. Please make sure there is at least one gateway with LocationType set to 'Customer Retail Shelf', and that the gateway is configured with a BackroomGatewayID. ")});var t=this.osaStats?this.osaStats.turnoverTimeHistogram(10):null;return n.a.createElement("div",null,n.a.createElement(Ke,{title:"OSA Dashboard"}),this.ready?n.a.createElement("div",{style:{width:1200}},n.a.createElement("div",{style:{margin:"0 0 30px 30px"}},n.a.createElement("div",{style:{display:"flex",alignItems:"center"}},n.a.createElement("div",{style:{fontWeight:"bold",fontSize:21,padding:"32px 15px 32px 0"}},"Select a shelf gateway:"),n.a.createElement(Me.a,{options:this.props.gatewayConfig.customerRetailShelves.map((function(e){return e.ID})),getOptionLabel:function(t){var a=e.props.gatewayConfig.getFor(t);return"".concat(a.ID," ").concat(a.Alias?"- ".concat(a.Alias):"")},style:{width:600},onChange:function(t,a){e.selectedGatewayId=a,e.loadData()},value:this.selectedGatewayId,renderInput:function(e){return n.a.createElement(He.a,Object.assign({},e,{label:"Gateway ID",variant:"outlined"}))}}),!this.ready&&n.a.createElement(We.a,{style:{marginLeft:20}})),this.osaStats&&n.a.createElement("div",null,n.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingBottom:20,borderBottom:"1px solid grey"}},n.a.createElement("div",{style:{borderRight:"1px solid grey"}},this.metricBox("ITEMS ON SHELF","#1d6aac","/trackntrace-website-vc-data/shelf-white.svg",this.osaStats.itemCountAtGateway),this.metricBox("ITEMS IN STOREROOM","#008a91","/trackntrace-website-vc-data/storeroom-white.svg",this.osaStats.itemCountAtBackroom)),n.a.createElement("div",{style:{flex:1,padding:"0 10px"}},n.a.createElement("div",{style:{width:800}},n.a.createElement(lt.b,{data:{datasets:[{label:"Shelf Item Count",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.osaStats.gatewayItemCountHistory.map((function(e){return{t:e.time,y:e.count}}))},{label:"Storeroom Item Count",fill:!1,lineTension:.1,backgroundColor:"rgba(75,0,192,0.4)",borderColor:"rgba(75,0,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,0,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,0,192,1)",pointHoverBorderColor:"rgba(220,0,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.osaStats.backroomItemCountHistory.map((function(e){return{t:new Date(e.time),y:e.count}}))}]},width:800,height:300,options:{scales:{xAxes:[{type:"time",distribution:"linear",offset:!0}],yAxes:[{ticks:{beginAtZero:!0}}]},maintainAspectRatio:!1,legend:{display:!0}}})))),n.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingTop:20}},n.a.createElement("div",{style:{padding:"0 10px",borderRight:"1px solid grey"}},n.a.createElement("div",{style:{width:300,backgroundColor:"#f8f8f8",margin:"50px 0"}},n.a.createElement("div",{style:{textAlign:"center",padding:20,fontWeight:900,letterSpacing:"1.07px"}},"AVG TURNOVER TIME"),n.a.createElement("div",{style:{textAlign:"center",padding:"40px 60px 60px 60px",fontWeight:"bold",fontSize:30}},st(this.osaStats.avgTurnoverTime)))),n.a.createElement("div",{style:{padding:"0 10px",width:800,height:300}},n.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold"}},"TURNOVER TIME (histogram)"),n.a.createElement(lt.a,{data:{labels:D.range(t.bins.length).map((function(e,a){return"<"+st((a+1)*t.binSize)})),datasets:[{label:"Turnover Time",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:t.bins}]},width:800,height:200,options:{maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}))))),n.a.createElement("div",{style:{margin:"0 0 20px 20px",fontWeight:"bold"}}," OSA Alerts "),n.a.createElement(et,{alerts:this.props.osaAlerts.alerts})):n.a.createElement("div",{style:{padding:10}},n.a.createElement(We.a,null)))}},{key:"metricBox",value:function(e,t,a,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return n.a.createElement("div",{style:Object(Qe.a)({width:300,padding:10,letterSpacing:"1.07px"},o)},n.a.createElement("div",{style:{backgroundColor:t,padding:10,color:"white"}},n.a.createElement("img",{src:a,style:{verticalAlign:"middle",paddingRight:20,width:30}}),n.a.createElement("span",{style:{verticalAlign:"middle",fontSize:"0.8em"}},e)),n.a.createElement("div",{style:{backgroundColor:"#f8f8f8",textAlign:"center",padding:"20px 0",fontWeight:"bold",fontSize:30}},r))}}]),t}(n.a.Component),fe=Object(E.a)(ye.prototype,"ready",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=Object(E.a)(ye.prototype,"selectedGatewayId",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=Object(E.a)(ye.prototype,"osaStats",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=ye))||ge)||ge,mt=Object(y.b)("statistics","gatewayConfig","records","shrinkageAlerts")(ve=Object(y.c)((we=function(e){function t(){var e,a;Object(w.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=Object(xe.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(n))),Object(v.a)(a,"ready",Oe,Object(Be.a)(a)),a.currentTimeoutHandle=void 0,a}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;this.ready=!1,this.currentTimeoutHandle&&clearTimeout(this.currentTimeoutHandle),this.currentTimeoutHandle=setTimeout((function(){e.ready=!0,e.currentTimeoutHandle=null}),1e3)}},{key:"componentWillUnmount",value:function(){this.currentTimeoutHandle&&clearTimeout(this.currentTimeoutHandle)}},{key:"render",value:function(){if(0==this.props.gatewayConfig.all().length)return n.a.createElement(it,{err:new Error("Gateway config appears to be empty. The shrinkage dashboard required a gateway config.")});var e=N(this.props.shrinkageAlerts.itemWentDarkAlerts,30,864e5),t=N(this.props.shrinkageAlerts.itemSkippedPOSAlerts,30,864e5);return n.a.createElement("div",null,n.a.createElement(Ke,{title:"Shrinkage Dashboard"}),this.ready?n.a.createElement("div",{style:{paddingLeft:10,width:1e3}},n.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center"}},this.metricBox("SUSPECTED STOLEN ITEMS","PAST 24H",this.props.shrinkageAlerts.alertedItemsCountLast24Hours,"#8f5c5c"),this.metricBox("SUSPECTED STOLEN ITEMS","PAST 30 DAYS",this.props.shrinkageAlerts.alertedItemsCountLast30Days,"#be8b8b")),n.a.createElement("div",{style:{width:"100%"}},n.a.createElement(lt.b,{data:{datasets:[{label:"Item Went Dark",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"#8f5c5c",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#8f5c5c",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:3,pointHitRadius:10,data:e.bins.map((function(t,a){return{t:e.startTime+e.binSize*a,y:t}}))},{label:"Item Skipped POS",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"#bbbbbb",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#bbbbbb",pointBackgroundColor:"#fff",pointBorderWidth:3,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:t.bins.map((function(e,a){return{t:t.startTime+t.binSize*a,y:e}}))}]},width:800,height:300,options:{scales:{xAxes:[{type:"time",distribution:"linear",offset:!0}],yAxes:[{ticks:{beginAtZero:!0}}]},maintainAspectRatio:!1,legend:{display:!0}}})),n.a.createElement("div",{style:{margin:"20px 0 20px 20px",fontWeight:"bold"}}," Shrinkage Alerts "),n.a.createElement(et,{alerts:this.props.shrinkageAlerts.alerts})):n.a.createElement("div",{style:{padding:10}},n.a.createElement(We.a,null)))}},{key:"metricBox",value:function(e,t,a,r){return n.a.createElement("div",{style:{width:300,textAlign:"center",color:"white",letterSpacing:1.07,fontSize:12,padding:15}},n.a.createElement("div",{style:{padding:10,backgroundColor:r}},e),n.a.createElement("div",{style:{backgroundColor:"#f8f8f8",color:"#3d3d3d"}},n.a.createElement("div",{style:{padding:"15px 0 0 0"}},t),n.a.createElement("div",{style:{padding:"15px 0 25px 0",fontWeight:"bold",fontSize:25}},a)))}}]),t}(n.a.Component),Oe=Object(E.a)(we.prototype,"ready",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ve=we))||ve)||ve,dt=[{name:"settings",path:"/settings",menuImg:"/menu-item-settings.svg",cssClass:"settings",displayIndex:4,component:Object(y.b)("gatewayConfig","records")(Ee=Object(y.c)((ke=function(e){function t(){var e,a;Object(w.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=Object(xe.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(n))),Object(v.a)(a,"ready",Ce,Object(Be.a)(a)),a.currentTimeoutHandle=void 0,Object(v.a)(a,"selectedGatewayId",je,Object(Be.a)(a)),Object(v.a)(a,"osaStats",Ie,Object(Be.a)(a)),a}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.gatewayConfig.customerRetailShelves[0];e&&(this.selectedGatewayId=e.ID),this.loadData()}},{key:"loadData",value:function(){var e=this;this.ready=!1,this.currentTimeoutHandle&&clearTimeout(this.currentTimeoutHandle),this.currentTimeoutHandle=setTimeout((function(){e.ready=!0,e.currentTimeoutHandle=null}),1e3)}},{key:"componentWillUnmount",value:function(){this.currentTimeoutHandle&&clearTimeout(this.currentTimeoutHandle)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n                .gw-conf-table {\n                  border-collapse: collapse;\n                  margin: 20px 0;\n                }\n                \n                .gw-conf-table tr:first-child {\n                    font-weight: bold;\n                }\n                \n                .gw-conf-table td {\n                    border: 1px solid;\n                    padding: 5px;\n                }\n            "}}),n.a.createElement(Ke,{title:"Settings"}),this.ready?n.a.createElement("div",{style:{width:1200,padding:20}},n.a.createElement("b",null," Gateway Configuration "),n.a.createElement("br",null),n.a.createElement("table",{className:"gw-conf-table"},n.a.createElement("tr",null,n.a.createElement("td",null,"Gateway ID"),n.a.createElement("td",null,"Alias"),n.a.createElement("td",null,"Location Category"),n.a.createElement("td",null,"Site Category"),n.a.createElement("td",null,"Backroom Gateway ID")),this.props.gatewayConfig.all().map((function(e){return n.a.createElement("tr",null,n.a.createElement("td",null,e.ID),n.a.createElement("td",null,e.Alias),n.a.createElement("td",null,e.LocationCategory),n.a.createElement("td",null,e.SiteCategory),n.a.createElement("td",null,e.BackroomGatewayId))}))),n.a.createElement("div",null,"To set a different gateway configuration, upload a CSV file in the specified format. This can be done using the ",n.a.createElement("pre",{style:{display:"inline-block"}},"aws-cli")," tool and the provided AWS credentials:",n.a.createElement("div",{style:{border:"1px solid",backgroundColor:"#dfdfdf",display:"inline-block",padding:5,fontFamily:""}},"export AWS_ACCESS_KEY_ID=",n.a.createElement("i",null,"Your AWS_ACCESS_KEY_ID")," ",n.a.createElement("br",null),"export AWS_SECRET_ACCESS_KEY=",n.a.createElement("i",null,"Your AWS_SECRET_ACCESS_KEY")," ",n.a.createElement("br",null),"export AWS_DEFAULT_REGION=us-west-2 ",n.a.createElement("br",null),n.a.createElement("br",null),"aws s3 cp /path/to/local/gateway-config.csv s3://trackntrace-config/gw-conf.csv ",n.a.createElement("br",null)),n.a.createElement("br",null),n.a.createElement("br",null),"Note: the page must be refreshed for changes to take effect.",n.a.createElement("br",null),n.a.createElement("br",null)),n.a.createElement("br",null),n.a.createElement("b",null,"Scan Records"),n.a.createElement("br",null),n.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"baseline"}},n.a.createElement("div",{style:{marginRight:10}},"The system detected ",this.props.records.records.length," item scan records."),n.a.createElement(Ge.a,{variant:"contained",onClick:function(){return e.deleteAllRecordsClicked()},color:"secondary",style:{marginTop:20}},"DELETE ALL SCAN RECORDS"))):n.a.createElement("div",{style:{padding:10}},n.a.createElement(We.a,null)))}},{key:"deleteAllRecordsClicked",value:function(){window.confirm("Are you sure you want to delete all scan records?")}}]),t}(n.a.Component),Ce=Object(E.a)(ke.prototype,"ready",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),je=Object(E.a)(ke.prototype,"selectedGatewayId",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=Object(E.a)(ke.prototype,"osaStats",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=ke))||Ee)||Ee},{name:"shrinkage",path:"/shrinkage",menuImg:"/menu-item-shrinkage.svg",cssClass:"shrinkage",displayIndex:3,component:mt},{name:"onShelfAvailability",path:"/osa",menuImg:"/menu-item-osa.svg",cssClass:"osa",displayIndex:2,component:ut},{name:"itemStatus",path:"/item_status",menuImg:"/menu-item-status.svg",cssClass:"item-status",displayIndex:1,component:Ye},{name:"overview",path:"/",menuImg:"/menu-overview.svg",cssClass:"overview",displayIndex:0,component:at}];function pt(){return dt.find((function(e){return e.path==window.location.hash.slice(1)}))||dt[dt.length-1]}function gt(e){var t=e.onClick,a=e.className;return n.a.createElement("div",{onClick:function(){return t()},style:{width:"100%",boxSizing:"border-box",margin:30},className:a})}var yt,ft,ht,bt,vt=Object(y.c)((Se=function(e){function t(){var e,a;Object(w.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=Object(xe.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(n))),Object(v.a)(a,"currentRoute",Ae,Object(Be.a)(a)),a}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=function(t){return"menu-item menu-item-".concat(t.cssClass," ").concat(e.currentRoute.name==t.name?"selected":"")};return n.a.createElement("div",{className:"side-menu",style:{height:"100%",width:"100%"}},n.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n                .side-menu .menu-item-overview {\n                    background-image: url(".concat("/trackntrace-website-vc-data","/menu-overview.svg);\n                }\n\n                .side-menu .menu-item-overview.selected{\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-overview-selected.svg);\n                    border-right: 3px solid #3e4d73;\n                }\n\n                .side-menu .menu-item-overview:hover{\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-overview-hovered.svg);\n                }\n\n                .side-menu .menu-item-item-status {\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-status.svg);\n                }\n\n                .side-menu .menu-item-item-status.selected{\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-status-selected.svg);\n                    border-right: 3px solid #3e4d73;\n                }\n\n                .side-menu .menu-item-item-status:hover{\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-status-hovered.svg);\n                }\n\n                .side-menu .menu-item-osa {\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-osa.svg);\n                }\n\n                .side-menu .menu-item-osa.selected {\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-osa-selected.svg);\n                    border-right: 3px solid #3e4d73;\n                }\n\n                .side-menu .menu-item-osa:hover {\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-osa-hovered.svg);\n                }\n\n                .side-menu .menu-item-settings {\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-settings.svg);\n                }\n\n                .side-menu .menu-item-settings.selected {\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-settings-selected.svg);\n                    border-right: 3px solid #3e4d73;\n                }\n\n                .side-menu .menu-item-settings:hover {\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-settings-hovered.svg);\n                }\n\n                .side-menu .menu-item-shrinkage {\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-shrinkage.svg);\n                }\n\n                .side-menu .menu-item-shrinkage.selected {\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-shrinkage-selected.svg);\n                    border-right: 3px solid #3e4d73;\n                }\n\n                .side-menu .menu-item-shrinkage:hover {\n                    background-image: url(").concat("/trackntrace-website-vc-data","/menu-item-shrinkage-hovered.svg);\n                }\n            ")}}),n.a.createElement("div",{className:"side-menu-orbs",style:{padding:30,marginBottom:20}},n.a.createElement("img",{style:{height:32,width:32},src:"/trackntrace-website-vc-data/orbs-logo.svg"})),D.sortBy(dt,(function(e){return e.displayIndex})).map((function(a){return n.a.createElement(gt,{onClick:function(){return e.navigateTo(a)},className:t(a)})})))}},{key:"navigateTo",value:function(e){window.location.hash=e.path,this.currentRoute=e}},{key:"componentDidMount",value:function(){var e=this;window.onhashchange=function(){return e.currentRoute=pt()}}},{key:"componentWillUnmount",value:function(){window.onhashchange=null}}]),t}(n.a.Component),Ae=Object(E.a)(Se.prototype,"currentRoute",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pt()}}),De=Se))||De,wt=Object(y.c)((ft=function(e){function t(){var e,a;Object(w.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=Object(xe.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(n))),Object(v.a)(a,"loadingCaption",ht,Object(Be.a)(a)),a}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"loading-page"},n.a.createElement("div",{className:"logo-container"},n.a.createElement("div",{style:{height:"100%",width:"100%",textAlign:"center"}},n.a.createElement("img",{className:"orbs-logo",src:"/trackntrace-website-vc-data/orbs-logo.svg"})),n.a.createElement("div",{className:"loading-lbl"},this.loadingCaption)))}},{key:"componentDidMount",value:function(){var e=this,t=0;setInterval((function(){e.loadingCaption="Loading"+D.range(t).map((function(){return"."})).join(""),t=(t+1)%4}),500)}}]),t}(n.a.Component),ht=Object(E.a)(ft.prototype,"loadingCaption",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Loading..."}}),yt=ft))||yt,Ot=Object(y.b)("records","gatewayConfig")(bt=Object(y.c)(bt=function(e){function t(){return Object(w.a)(this,t),Object(xe.a)(this,Object(Te.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return this.props.records.ready&&this.props.gatewayConfig.ready?n.a.createElement(Le.a,null,n.a.createElement("div",{style:{height:"100%",width:"100%",maxWidth:2e3,display:"inline-block",position:"relative",textAlign:"left"}},n.a.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,width:89}},n.a.createElement(vt,null)),n.a.createElement("div",{style:{position:"absolute",top:0,left:90,bottom:0,right:0,overflow:"auto",borderRight:"1px solid #ebedf8"}},n.a.createElement(Re.c,null,dt.map((function(e){var t=e.component;return n.a.createElement(Re.a,{path:e.path},n.a.createElement(t,null))})))))):this.props.records.err||this.props.gatewayConfig.err?n.a.createElement(it,{err:this.props.records.err||this.props.gatewayConfig.err}):n.a.createElement(wt,null)}}]),t}(n.a.Component))||bt)||bt,Et=function(){var e=new z,t=new S(e),a=new A(t);return{records:t,gatewayConfig:e,statistics:a,osaAlerts:new G(a,e),shrinkageAlerts:new F(a,e)}}();window.stores=Et,i.a.render(n.a.createElement(y.a,Et,n.a.createElement(Ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[134,1,2]]]);
//# sourceMappingURL=main.da7e63bd.chunk.js.map